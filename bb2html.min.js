/*------------------------------------------------------------------------
# author    Ivijan-Stefan Stipic
# copyright Copyright (C) 2015 CreativForm. All Rights Reserved
# license   Licensed under MIT License
# website   www.CreativForm.com
-------------------------------------------------------------------------*/
;function(e){e.fn.bb2html=function(){var a=this,l=e.trim(a.html());l=l.replace(/\[(\/?[A-Z].*?)\]/gi,"["+e.trim("$1".toLowerCase())+"]");var r={brackets:function(e){for(var a=["[[[[","]]]]","[[[","]]]","[[","]]"],l=["[","]","[","]","[","]"],r=a.length,i=0;r>i;i++)e=e.replace(a[i],l[i]);return e},cleanTrash:function(e){var a=[/\<xml(.+?)\>(.+?)\<\/xml\>/gi,/\<w:(.+?)\>(.+?)\<\/w:(.+?)\>/gi,/\<o:(.+?)\>/gi,/<\?(.*)\? ?>/gi,/\<\!--(.+)--\>/gi,/\<\!--(.+)\>/gi],l=a.length;removeTags=["applet","body","bgsound","base","basefont","embed","frame","frameset","head","html","id","iframe","ilayer","layer","link","meta","name","object","script","style","soap","title","xml","soap:","o:","w:","m:"],removeTagsMax=removeTags.length;for(var r=0;l>r;r++)e=e.replace(a[r],"");for(var i=0;i<removeTagsMax;i++)e=e.replace(/\[/+removeTags[i]+/(.+?)\](.+?)\[\//+removeTags[i]+/\]/gi,""),e=e.replace(/\</+removeTags[i]+/(.+?)\>(.+?)\<\//+removeTags[i]+/\>/gi,""),e=e.replace(/\[/+removeTags[i]+/\b[^>]*]/gi,""),e=e.replace(/\[\//+removeTags[i]+/\b[^>]*]/gi,""),e=e.replace(/\</+removeTags[i]+/\b[^>]*>/gi,""),e=e.replace(/\<\//+removeTags[i]+/\>/gi,"");return e},bb2html:function(e){return e=e.replace("&nbsp;"," "),e=e.replace("Â "," "),e=e.replace("&quot;",'"'),e=e.replace("&gt;",">"),e=e.replace("&lt;","<"),e=e.replace("&amp;","&"),e=e.replace("[c]","&copy;"),e=e.replace("[sp]","&nbsp;"),e=e.replace(/[\n\r]/g,"<br>"),e=e.replace(/[\n]/g,"<br>"),e=e.replace(/[\r]/g,"<br>"),e=e.replace("<br><br><br>","<p></p>"),e=e.replace("[*]","<li>"),e=e.replace("[/*]","</li>"),e=e.replace("[hr]","<hr>"),e=e.replace(/\[br\]/gi,"<br>"),e=e.replace(/\[center\](.*?)\[\/center\]/gi,'<p style="a-align: center;">$1</p>'),e=e.replace(/\[left\](.*?)\[\/left\]/gi,'<p style="a-align: left;">$1</p>'),e=e.replace(/\[right\](.*?)\[\/right\]/gi,'<p style="a-align: right;">$1</p>'),e=e.replace(/\[justify\](.*?)\[\/justify\]/gi,'<p style="a-align: justify;">$1</p>'),e=e.replace(/\[news\](.*?)\[\/news\]/gi,'<div class="news">$1</div>'),e=e.replace(/\[div\](.*?)\[\/div\]/gi,"<div>$1</div>"),e=e.replace(/\[span\](.*?)\[\/span\]/gi,"<span>$1</span>"),e=e.replace(/\[font\](.*?)\[\/font\]/gi,"<font>$1</font>"),e=e.replace(/\[font\=(.*?)\](.*?)\[\/font\]/gi,'<font style="font-family:$1">$2</font>'),e=e.replace(/\[b\](.*?)\[\/b\]/gi,"<strong>$1</strong>"),e=e.replace(/\[bold\](.*?)\[\/bold\]/gi,"<strong>$1</strong>"),e=e.replace(/\[strong\](.*?)\[\/strong\]/gi,"<strong>$1</strong>"),e=e.replace(/\[big\](.*?)\[\/big\]/gi,"<big>$1</big>"),e=e.replace(/\[small\](.*?)\[\/small\]/gi,"<small>$1</small>"),e=e.replace(/\[list\](.*?)\[\/list\]/gi,"<ol>$1</ol>"),e=e.replace(/\[list\=(.*?)\](.*?)\[\/list\]/gi,'<ol start="$1">$2</span>'),e=e.replace(/\[ul\](.*?)\[\/ul\]/gi,"<ul>$1</ul>"),e=e.replace(/\[li\](.*?)\[\/li\]/gi,"<li>$1</li>"),e=e.replace(/\[tt\](.*?)\[\/tt\]/gi,"<tt>$1</tt>"),e=e.replace(/\[code\](.*?)\[\/code\]/gi,"<code>$1</code>"),e=e.replace(/\[quote\](.*?)\[\/quote\]/gi,"<blockquote>$1</blockquote>"),e=e.replace(/\[blockquote\](.*?)\[\/blockquote\]/gi,"<blockquote>$1</blockquote>"),e=e.replace(/\[cite\](.*?)\[\/cite\]/gi,"<cite>$1</cite>"),e=e.replace(/\[u\](.*?)\[\/u\]/gi,"<u>$1</u>"),e=e.replace(/\[i\](.*?)\[\/i\]/gi,"<em>$1</em>"),e=e.replace(/\[em\](.*?)\[\/em\]/gi,"<em>$1</em>"),e=e.replace(/\[p\](.*?)\[\/p\]/gi,"<p>$1</p>"),e=e.replace(/\[s\](.*?)\[\/s\]/gi,'<span style="a-decoration:line-through">$1</span>'),e=e.replace(/\[h1\](.*?)\[\/h1\]/gi,"<h1>$1</h1>"),e=e.replace(/\[h2\](.*?)\[\/h2\]/gi,"<h2>$1</h2>"),e=e.replace(/\[h3\](.*?)\[\/h3\]/gi,"<h3>$1</h3>"),e=e.replace(/\[h4\](.*?)\[\/h4\]/gi,"<h4>$1</h4>"),e=e.replace(/\[h5\](.*?)\[\/h5\]/gi,"<h5>$1</h5>"),e=e.replace(/\[h6\](.*?)\[\/h6\]/gi,"<h6>$1</h6>"),e=e.replace(/\[sup\](.*?)\[\/sup\]/gi,"<sup>$1</sup>"),e=e.replace(/\[sub\](.*?)\[\/sub\]/gi,"<sub>$1</sub>"),e=e.replace(/\[img\](.*?)\[\/img\]/gi,'<img src="$1" class="img-responsive" alt="$1">'),e=e.replace(/\[img\=(.*?)\](.*?)\[\/img\]/gi,'<img src="$1" title="$2" alt="$2" class="img-responsive">'),e=e.replace(/\[email\=([_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,3}))\](.*?)\[\/email\]/gi,'<a href="mailto:$1">$2</a>'),e=e.replace(/\[mail\=([_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,3}))\](.*?)\[\/mail\]/gi,"<span>$1</span>"),e=e.replace(/\[email\]([_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,3}))\[\/email\]/gi,'<a href="mailto:$1">$1</a>'),e=e.replace(/\[mail\]([_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,3}))\[\/mail\]/gi,'<a href="mailto:$1">$1</a>'),e=e.replace(/\[url\=(.*?)\](.*?)\[\/url\]/gi,'<a target="_blank" href="$1">$2</a>'),e=e.replace(/\[url\](.*?)\[\/url\]/gi,'<a target="_blank" href="$1">$1</a>'),e=e.replace(/\[link\=(.*?)\](.*?)\[\/link\]/gi,'<a target="_blank" href="$1">$2</a>'),e=e.replace(/\[color\=(.*?)\](.*?)\[\/color\]/gi,'<font style="color:$1;">$2</font>'),e=e.replace(/\[size\=(.*?)\](.*?)\[\/size\]/gi,'<font style="font-size:$1;">$2</font>'),e=e.replace("http://mailto:","mailto:")}};l=r.brackets(l),l=r.cleanTrash(l),l=r.bb2html(l),a.html(e.trim(l))}}(jQuery);
